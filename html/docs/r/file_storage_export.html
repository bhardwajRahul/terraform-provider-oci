<!DOCTYPE html>
<html>
<head>
  <title>Oracle Cloud Infrastructure - Resource: oci_file_storage_export</title>
  <meta name="GENERATOR" content="Generated from terraform-provider-oci markdown documentation">
  <meta charset="utf-8">
  <link rel="stylesheet" type="text/css" href="../../css/style.css">
</head>
<body>

	<div class="nav_wrap">
		<iframe id ="nav_list" src="../../toc.html"></iframe>
	</div>

	<div class="main" tabindex="-1">
<h1>oci_file_storage_export</h1>

<p>This resource provides the Export resource in Oracle Cloud Infrastructure File Storage service.
Api doc link for the resource: <a href="https://docs.oracle.com/iaas/api/#/en/filestorage/latest/Export">https://docs.oracle.com/iaas/api/#/en/filestorage/latest/Export</a></p>

<p>Example terraform configs related to the resource : <a href="https://github.com/oracle/terraform-provider-oci/tree/master/examples/">https://github.com/oracle/terraform-provider-oci/tree/master/examples/</a></p>

<p>Creates a new export in the specified export set, path, and
file system.</p>

<h2>Example Usage</h2>

<pre><code class="language-hcl">resource &quot;oci_file_storage_export&quot; &quot;test_export&quot; {
	#Required
	export_set_id = oci_file_storage_export_set.test_export_set.id
	file_system_id = oci_file_storage_file_system.test_file_system.id
	path = var.export_path

	#Optional
	export_options {
		#Required
		source = var.export_export_options_source

		#Optional
		access = var.export_export_options_access
		allowed_auth = var.export_export_options_allowed_auth
		anonymous_gid = var.export_export_options_anonymous_gid
		anonymous_uid = var.export_export_options_anonymous_uid
		identity_squash = var.export_export_options_identity_squash
		is_anonymous_access_allowed = var.export_export_options_is_anonymous_access_allowed
		require_privileged_source_port = var.export_export_options_require_privileged_source_port
	}
	is_idmap_groups_for_sys_auth = var.export_is_idmap_groups_for_sys_auth
	locks {
		#Required
		type = var.export_locks_type

		#Optional
		message = var.export_locks_message
		related_resource_id = oci_cloud_guard_resource.test_resource.id
		time_created = var.export_locks_time_created
	}
}
</code></pre>

<h2>Argument Reference</h2>

<p>The following arguments are supported:</p>

<ul>
<li><p><code>export_options</code> - (Optional) (Updatable) Export options for the new export. For exports of mount targets with IPv4 address, if client options are left unspecified, client options would default to:</p>

<p>[ { &ldquo;source&rdquo; : &ldquo;0.0.0.0/0&rdquo;, &ldquo;requirePrivilegedSourcePort&rdquo; : false, &ldquo;access&rdquo;: &ldquo;READ_WRITE&rdquo;, &ldquo;identitySquash&rdquo;: &ldquo;NONE&rdquo;, &ldquo;anonymousUid&rdquo;: 65534, &ldquo;anonymousGid&rdquo;: 65534, &ldquo;isAnonymousAccessAllowed&rdquo;: false, &ldquo;allowedAuth&rdquo;: [&ldquo;SYS&rdquo;] } ]</p>

<p>For exports of mount targets with IPv6 address, if client options are left unspecified, client options would be an empty array, i.e. export would not be visible to any clients.</p>

<p><strong>Note:</strong> Mount targets do not have Internet-routable IP addresses.  Therefore they will not be reachable from the Internet, even if an associated <code>ClientOptions</code> item has a source of <code>0.0.0.0/0</code>.</p>

<p><strong>If set to the empty array then the export will not be visible to any clients.</strong></p>

<p>The export&rsquo;s <code>exportOptions</code> can be changed after creation using the <code>UpdateExport</code> operation.</p>

<ul>
<li><p><code>access</code> - (Optional) (Updatable) Type of access to grant clients using the file system through this export. If unspecified defaults to <code>READ_WRITE</code>.</p></li>

<li><p><code>allowed_auth</code> - (Optional) (Updatable) Array of allowed NFS authentication types.</p></li>

<li><p><code>anonymous_gid</code> - (Optional) (Updatable) GID value to remap to when squashing a client GID (see identitySquash for more details.) If unspecified defaults to <code>65534</code>.</p></li>

<li><p><code>anonymous_uid</code> - (Optional) (Updatable) UID value to remap to when squashing a client UID (see identitySquash for more details.) If unspecified, defaults to <code>65534</code>.</p></li>

<li><p><code>identity_squash</code> - (Optional) (Updatable) Used when clients accessing the file system through this export have their UID and GID remapped to &lsquo;anonymousUid&rsquo; and &lsquo;anonymousGid&rsquo;. If <code>ALL</code>, all users and groups are remapped; if <code>ROOT</code>, only the root user and group (UID/GID 0) are remapped; if <code>NONE</code>, no remapping is done. If unspecified, defaults to <code>ROOT</code>.</p></li>

<li><p><code>is_anonymous_access_allowed</code> - (Optional) (Updatable) Whether or not to enable anonymous access to the file system through this export in cases where a user isn&rsquo;t found in the LDAP server used for ID mapping. If true, and the user is not found in the LDAP directory, the operation uses the Squash UID and Squash GID.</p></li>

<li><p><code>require_privileged_source_port</code> - (Optional) (Updatable) If <code>true</code>, clients accessing the file system through this export must connect from a privileged source port. If unspecified, defaults to <code>true</code>.</p></li>

<li><p><code>source</code> - (Required) (Updatable) Clients these options should apply to. Must be a either single IPv4 address or single IPv4 CIDR block.</p>

<p><strong>Note:</strong> Access will also be limited by any applicable VCN security rules and the ability to route IP packets to the mount target. Mount targets do not have Internet-routable IP addresses.</p></li>
</ul></li>

<li><p><code>export_set_id</code> - (Required) The <a href="https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm">OCID</a> of this export&rsquo;s export set.</p></li>

<li><p><code>file_system_id</code> - (Required) The <a href="https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm">OCID</a> of this export&rsquo;s file system.</p></li>

<li><p><code>is_idmap_groups_for_sys_auth</code> - (Optional) (Updatable) Whether or not the export should use ID mapping for Unix groups rather than the group list provided within an NFS request&rsquo;s RPC header. When this flag is true the Unix UID from the RPC header is used to retrieve the list of secondary groups from a the ID mapping subsystem. The primary GID is always taken from the RPC header. If ID mapping is not configured, incorrectly configured, unavailable, or cannot be used to determine a list of secondary groups then an empty secondary group list is used for authorization. If the number of groups exceeds the limit of 256 groups, the list retrieved from LDAP is truncated to the first 256 groups read.</p></li>

<li><p><code>locks</code> - (Optional) Locks associated with this resource.</p>

<ul>
<li><code>message</code> - (Optional) A message added by the creator of the lock. This is typically used to give an indication of why the resource is locked.</li>
<li><code>related_resource_id</code> - (Optional) The ID of the resource that is locking this resource. Indicates that deleting this resource will remove the lock.</li>
<li><code>time_created</code> - (Optional) When the lock was created.</li>
<li><code>type</code> - (Required) Type of the lock.</li>
</ul></li>

<li><p><code>path</code> - (Required) Path used to access the associated file system.</p>

<p>Avoid entering confidential information.</p>

<p>Example: <code>/mediafiles</code></p></li>
</ul>

<p>** IMPORTANT **
Any change to a property that does not support update will force the destruction and recreation of the resource with the new property values</p>

<h2>Attributes Reference</h2>

<p>The following attributes are exported:</p>

<ul>
<li><p><code>export_options</code> - Policies that apply to NFS requests made through this export. <code>exportOptions</code> contains a sequential list of <code>ClientOptions</code>. Each <code>ClientOptions</code> item defines the export options that are applied to a specified set of clients.</p>

<p>For each NFS request, the first <code>ClientOptions</code> option in the list whose <code>source</code> attribute matches the source IP address of the request is applied.</p>

<p>If a client source IP address does not match the <code>source</code> property of any <code>ClientOptions</code> in the list, then the export will be invisible to that client. This export will not be returned by <code>MOUNTPROC_EXPORT</code> calls made by the client and any attempt to mount or access the file system through this export will result in an error.</p>

<p><strong>Exports without defined <code>ClientOptions</code> are invisible to all clients.</strong></p>

<p>If one export is invisible to a particular client, associated file systems may still be accessible through other exports on the same or different mount targets. To completely deny client access to a file system, be sure that the client source IP address is not included in any export for any mount target associated with the file system.</p>

<ul>
<li><p><code>access</code> - Type of access to grant clients using the file system through this export. If unspecified defaults to <code>READ_WRITE</code>.</p></li>

<li><p><code>allowed_auth</code> - Array of allowed NFS authentication types.</p></li>

<li><p><code>anonymous_gid</code> - GID value to remap to when squashing a client GID (see identitySquash for more details.) If unspecified defaults to <code>65534</code>.</p></li>

<li><p><code>anonymous_uid</code> - UID value to remap to when squashing a client UID (see identitySquash for more details.) If unspecified, defaults to <code>65534</code>.</p></li>

<li><p><code>identity_squash</code> - Used when clients accessing the file system through this export have their UID and GID remapped to &lsquo;anonymousUid&rsquo; and &lsquo;anonymousGid&rsquo;. If <code>ALL</code>, all users and groups are remapped; if <code>ROOT</code>, only the root user and group (UID/GID 0) are remapped; if <code>NONE</code>, no remapping is done. If unspecified, defaults to <code>ROOT</code>.</p></li>

<li><p><code>is_anonymous_access_allowed</code> - Whether or not to enable anonymous access to the file system through this export in cases where a user isn&rsquo;t found in the LDAP server used for ID mapping. If true, and the user is not found in the LDAP directory, the operation uses the Squash UID and Squash GID.</p></li>

<li><p><code>require_privileged_source_port</code> - If <code>true</code>, clients accessing the file system through this export must connect from a privileged source port. If unspecified, defaults to <code>true</code>.</p></li>

<li><p><code>source</code> - Clients these options should apply to. Must be a either single IPv4 address or single IPv4 CIDR block.</p>

<p><strong>Note:</strong> Access will also be limited by any applicable VCN security rules and the ability to route IP packets to the mount target. Mount targets do not have Internet-routable IP addresses.</p></li>
</ul></li>

<li><p><code>export_set_id</code> - The <a href="https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm">OCID</a> of this export&rsquo;s export set.</p></li>

<li><p><code>file_system_id</code> - The <a href="https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm">OCID</a> of this export&rsquo;s file system.</p></li>

<li><p><code>id</code> - The <a href="https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm">OCID</a> of this export.</p></li>

<li><p><code>is_idmap_groups_for_sys_auth</code> - Whether or not the export should use ID mapping for Unix groups rather than the group list provided within an NFS request&rsquo;s RPC header. When this flag is true the Unix UID from the RPC header is used to retrieve the list of secondary groups from a the ID mapping subsystem. The primary GID is always taken from the RPC header. If ID mapping is not configured, incorrectly configured, unavailable, or cannot be used to determine a list of secondary groups then an empty secondary group list is used for authorization. If the number of groups exceeds the limit of 256 groups, the list retrieved from LDAP is truncated to the first 256 groups read.</p></li>

<li><p><code>locks</code> - Locks associated with this resource.</p>

<ul>
<li><code>message</code> - A message added by the creator of the lock. This is typically used to give an indication of why the resource is locked.</li>
<li><code>related_resource_id</code> - The ID of the resource that is locking this resource. Indicates that deleting this resource will remove the lock.</li>
<li><code>time_created</code> - When the lock was created.</li>
<li><code>type</code> - Type of the lock.</li>
</ul></li>

<li><p><code>path</code> - Path used to access the associated file system.</p>

<p>Avoid entering confidential information.</p>

<p>Example: <code>/accounting</code></p></li>

<li><p><code>state</code> - The current state of this export.</p></li>

<li><p><code>time_created</code> - The date and time the export was created, expressed in <a href="https://tools.ietf.org/rfc/rfc3339">RFC 3339</a> timestamp format.  Example: <code>2016-08-25T21:10:29.600Z</code></p></li>
</ul>

<h2>Timeouts</h2>

<p>The <code>timeouts</code> block allows you to specify <a href="https://registry.terraform.io/providers/oracle/oci/latest/docs/guides/changing_timeouts">timeouts</a> for certain operations:
	* <code>create</code> - (Defaults to 20 minutes), when creating the Export
	* <code>update</code> - (Defaults to 20 minutes), when updating the Export
	* <code>delete</code> - (Defaults to 20 minutes), when destroying the Export</p>

<h2>Import</h2>

<p>Exports can be imported using the <code>id</code>, e.g.</p>

<pre><code>$ terraform import oci_file_storage_export.test_export &quot;id&quot;
</code></pre>

	</div>

</body>
</html>
