<!DOCTYPE html>
<html>
<head>
  <title>Oracle Cloud Infrastructure - Resource: oci_log_analytics_namespace_scheduled_task</title>
  <meta name="GENERATOR" content="Generated from terraform-provider-oci markdown documentation">
  <meta charset="utf-8">
  <link rel="stylesheet" type="text/css" href="../../css/style.css">
</head>
<body>

	<div class="nav_wrap">
		<iframe id ="nav_list" src="../../toc.html"></iframe>
	</div>

	<div class="main" tabindex="-1">
<h1>oci_log_analytics_namespace_scheduled_task</h1>

<p>This resource provides the Namespace Scheduled Task resource in Oracle Cloud Infrastructure Log Analytics service.
Api doc link for the resource: <a href="https://docs.oracle.com/iaas/api/#/en/logan-api-spec/latest/NamespaceScheduledTask">https://docs.oracle.com/iaas/api/#/en/logan-api-spec/latest/NamespaceScheduledTask</a></p>

<p>Example terraform configs related to the resource : <a href="https://github.com/oracle/terraform-provider-oci/tree/master/examples/log_analytics">https://github.com/oracle/terraform-provider-oci/tree/master/examples/log_analytics</a></p>

<p>Schedule a task as specified and return task info.</p>

<h2>Example Usage</h2>

<pre><code class="language-hcl">resource &quot;oci_log_analytics_namespace_scheduled_task&quot; &quot;test_namespace_scheduled_task&quot; {
	#Required
	compartment_id = var.compartment_id
	kind = var.namespace_scheduled_task_kind
	namespace = var.namespace_scheduled_task_namespace

	#Optional
	action {
		#Required
		type = var.namespace_scheduled_task_action_type

		#Optional
		compartment_id_in_subtree = var.namespace_scheduled_task_action_compartment_id_in_subtree
		data_type = var.namespace_scheduled_task_action_data_type
		metric_extraction {

			#Optional
			compartment_id = var.compartment_id
			metric_name = oci_monitoring_metric.test_metric.name
			namespace = var.namespace_scheduled_task_action_metric_extraction_namespace
			resource_group = var.namespace_scheduled_task_action_metric_extraction_resource_group
		}
		purge_compartment_id = oci_identity_compartment.test_compartment.id
		purge_duration = var.namespace_scheduled_task_action_purge_duration
		query_string = var.namespace_scheduled_task_action_query_string
		saved_search_id = oci_log_analytics_saved_search.test_saved_search.id
		template_details {

			#Optional
			template_id = oci_log_analytics_template.test_template.id
			template_params {

				#Optional
				key_field = var.namespace_scheduled_task_action_template_details_template_params_key_field
				value_field = var.namespace_scheduled_task_action_template_details_template_params_value_field
			}
		}
	}
	defined_tags = {&quot;foo-namespace.bar-key&quot;= &quot;value&quot;}
	display_name = var.namespace_scheduled_task_display_name
	freeform_tags = {&quot;bar-key&quot;= &quot;value&quot;}
	saved_search_id = oci_log_analytics_saved_search.test_saved_search.id
	schedules {
		#Required
		type = var.namespace_scheduled_task_schedules_type

		#Optional
		expression = var.namespace_scheduled_task_schedules_expression
		misfire_policy = var.namespace_scheduled_task_schedules_misfire_policy
		recurring_interval = var.namespace_scheduled_task_schedules_recurring_interval
		repeat_count = var.namespace_scheduled_task_schedules_repeat_count
		time_zone = var.namespace_scheduled_task_schedules_time_zone
	}
	task_type = var.namespace_scheduled_task_task_type
}
</code></pre>

<h2>Argument Reference</h2>

<p>The following arguments are supported:</p>

<ul>
<li><p><code>action</code> - (Required when kind=STANDARD) Action for scheduled task.</p>

<ul>
<li><p><code>compartment_id_in_subtree</code> - (Applicable when type=PURGE) if true, purge child compartments data</p></li>

<li><p><code>data_type</code> - (Required when type=PURGE) the type of the log data to be purged</p></li>

<li><p><code>metric_extraction</code> - (Applicable when type=STREAM) Specify metric extraction for SAVED_SEARCH scheduled task execution to post to Oracle Cloud Infrastructure Monitoring.</p></li>

<li><p><code>compartment_id</code> - (Required when type=STREAM) (Updatable) The compartment OCID (<a href="https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm">https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm</a>) of the extracted metric.</p></li>

<li><p><code>metric_name</code> - (Required when type=STREAM) The metric name of the extracted metric. A valid value starts with an alphabetical character and includes only alphanumeric characters, periods (.), underscores (_), hyphens (-), and dollar signs ($).</p></li>

<li><p><code>namespace</code> - (Required when type=STREAM) The namespace of the extracted metric. A valid value starts with an alphabetical character and includes only alphanumeric characters and underscores (_).</p></li>

<li><p><code>resource_group</code> - (Applicable when type=STREAM) The resource group of the extracted metric. A valid value starts with an alphabetical character and includes only alphanumeric characters, periods (.), underscores (_), hyphens (-), and dollar signs ($).</p></li>

<li><p><code>purge_compartment_id</code> - (Required when type=PURGE) the compartment OCID under which the data will be purged</p></li>

<li><p><code>purge_duration</code> - (Required when type=PURGE) The duration of data to be retained, which is used to calculate the timeDataEnded when the task fires. The value should be negative. Purge duration in ISO 8601 extended format as described in <a href="https://en.wikipedia.org/wiki/ISO_8601#Durations">https://en.wikipedia.org/wiki/ISO_8601#Durations</a>. The largest supported unit is D, e.g. -P365D (not -P1Y) or -P14D (not -P2W).</p></li>

<li><p><code>query_string</code> - (Required when type=PURGE) Purge query string.</p></li>

<li><p><code>saved_search_id</code> - (Applicable when type=STREAM) The ManagementSavedSearch id [OCID] utilized in the action.  Should not be provided when a template ID is present.</p></li>

<li><p><code>template_details</code> - (Applicable when type=STREAM) details for scheduled task using template</p>

<ul>
<li><code>template_id</code> - (Applicable when type=STREAM) The template Id of a particular template.  Should not be provided when a saved search ID is present.</li>
<li><code>template_params</code> - (Applicable when type=STREAM) To store macro params.

<ul>
<li><code>key_field</code> - (Applicable when type=STREAM) Contains a template parameter&rsquo;s name.</li>
<li><code>value_field</code> - (Applicable when type=STREAM) Contains the desired value for a given parameter.</li>
</ul></li>
</ul></li>

<li><p><code>type</code> - (Required) Action type discriminator.</p></li>
</ul></li>

<li><p><code>compartment_id</code> - (Required) (Updatable) Compartment Identifier <a href="https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm">OCID</a>.</p></li>

<li><p><code>defined_tags</code> - (Optional) (Updatable) Defined tags for this resource. Each key is predefined and scoped to a namespace. Example: <code>{&quot;foo-namespace.bar-key&quot;: &quot;value&quot;}</code></p></li>

<li><p><code>display_name</code> - (Optional) (Updatable) A user-friendly name that is changeable and that does not have to be unique. Format: a leading alphanumeric, followed by zero or more alphanumerics, underscores, spaces, backslashes, or hyphens in any order). No trailing spaces allowed.</p></li>

<li><p><code>freeform_tags</code> - (Optional) (Updatable) Simple key-value pair that is applied without any predefined name, type or scope. Exists for cross-compatibility only. Example: <code>{&quot;bar-key&quot;: &quot;value&quot;}</code></p></li>

<li><p><code>kind</code> - (Required) (Updatable) Discriminator.</p></li>

<li><p><code>namespace</code> - (Required) The Logging Analytics namespace used for the request.</p></li>

<li><p><code>saved_search_id</code> - (Required when kind=ACCELERATION) The ManagementSavedSearch id [OCID] to be accelerated.</p></li>

<li><p><code>schedules</code> - (Applicable when kind=STANDARD) (Updatable) Schedules, typically a single schedule. Note there may only be a single schedule for SAVED_SEARCH and PURGE scheduled tasks.</p>

<ul>
<li><code>expression</code> - (Applicable when type=CRON) (Updatable) Value in cron format.</li>
<li><code>misfire_policy</code> - (Applicable when kind=STANDARD) (Updatable) Schedule misfire retry policy.</li>
<li><code>recurring_interval</code> - (Applicable when type=FIXED_FREQUENCY) (Updatable) Recurring interval in ISO 8601 extended format as described in <a href="https://en.wikipedia.org/wiki/ISO_8601#Durations">https://en.wikipedia.org/wiki/ISO_8601#Durations</a>. The largest supported unit is D, e.g. P14D (not P2W). The value must be at least 5 minutes (PT5M) and at most 3 weeks (P21D or PT30240M).</li>
<li><code>repeat_count</code> - (Applicable when type=FIXED_FREQUENCY) (Updatable) Number of times (0-based) to execute until auto-stop. Default value -1 will execute indefinitely. Value 0 will execute once.</li>
<li><code>time_zone</code> - (Applicable when type=CRON) (Updatable) Time zone, by default UTC.</li>
<li><code>type</code> - (Required) (Updatable) Schedule type discriminator.</li>
</ul></li>

<li><p><code>task_type</code> - (Required when kind=STANDARD) Task type.</p></li>
</ul>

<p>** IMPORTANT **
Any change to a property that does not support update will force the destruction and recreation of the resource with the new property values</p>

<h2>Attributes Reference</h2>

<p>The following attributes are exported:</p>

<ul>
<li><code>action</code> - Action for scheduled task.

<ul>
<li><code>compartment_id_in_subtree</code> - if true, purge child compartments data</li>
<li><code>data_type</code> - the type of the log data to be purged</li>
<li><code>metric_extraction</code> - Specify metric extraction for SAVED_SEARCH scheduled task execution to post to Oracle Cloud Infrastructure Monitoring.

<ul>
<li><code>compartment_id</code> - The compartment OCID (<a href="https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm">https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm</a>) of the extracted metric.</li>
<li><code>metric_name</code> - The metric name of the extracted metric. A valid value starts with an alphabetical character and includes only alphanumeric characters, periods (.), underscores (_), hyphens (-), and dollar signs ($).</li>
<li><code>namespace</code> - The namespace of the extracted metric. A valid value starts with an alphabetical character and includes only alphanumeric characters and underscores (_).</li>
<li><code>resource_group</code> - The resource group of the extracted metric. A valid value starts with an alphabetical character and includes only alphanumeric characters, periods (.), underscores (_), hyphens (-), and dollar signs ($).</li>
</ul></li>
<li><code>purge_compartment_id</code> - the compartment OCID under which the data will be purged</li>
<li><code>purge_duration</code> - The duration of data to be retained, which is used to calculate the timeDataEnded when the task fires. The value should be negative. Purge duration in ISO 8601 extended format as described in <a href="https://en.wikipedia.org/wiki/ISO_8601#Durations">https://en.wikipedia.org/wiki/ISO_8601#Durations</a>. The largest supported unit is D, e.g. -P365D (not -P1Y) or -P14D (not -P2W).</li>
<li><code>query_string</code> - Purge query string.</li>
<li><code>saved_search_id</code> - The ManagementSavedSearch id [OCID] utilized in the action.</li>
<li><code>template_details</code> - details for scheduled task using template

<ul>
<li><code>template_id</code> - The template Id of a particular template.</li>
<li><code>template_params</code> - To store macro params.

<ul>
<li><code>key_field</code> - Contains the name of a template parameter.</li>
<li><code>value_field</code> - Contains the desired value for the parameter.</li>
</ul></li>
</ul></li>
<li><code>type</code> - Action type discriminator.</li>
</ul></li>
<li><code>compartment_id</code> - Compartment Identifier <a href="https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm">OCID</a>.</li>
<li><code>defined_tags</code> - Defined tags for this resource. Each key is predefined and scoped to a namespace. Example: <code>{&quot;foo-namespace.bar-key&quot;: &quot;value&quot;}</code></li>
<li><code>display_name</code> - A user-friendly name that is changeable and that does not have to be unique. Format: a leading alphanumeric, followed by zero or more alphanumerics, underscores, spaces, backslashes, or hyphens in any order). No trailing spaces allowed.</li>
<li><code>freeform_tags</code> - Simple key-value pair that is applied without any predefined name, type or scope. Exists for cross-compatibility only. Example: <code>{&quot;bar-key&quot;: &quot;value&quot;}</code></li>
<li><code>id</code> - The <a href="https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm">OCID</a> of the data plane resource.</li>
<li><code>kind</code> - Discriminator.</li>
<li><code>num_occurrences</code> - Number of execution occurrences.</li>
<li><code>schedules</code> - Schedules.

<ul>
<li><code>expression</code> - Value in cron format.</li>
<li><code>misfire_policy</code> - Schedule misfire retry policy.</li>
<li><code>recurring_interval</code> - Recurring interval in ISO 8601 extended format as described in <a href="https://en.wikipedia.org/wiki/ISO_8601#Durations">https://en.wikipedia.org/wiki/ISO_8601#Durations</a>. The largest supported unit is D, e.g. P14D (not P2W). The value must be at least 5 minutes (PT5M) and at most 3 weeks (P21D or PT30240M).</li>
<li><code>repeat_count</code> - Number of times (0-based) to execute until auto-stop. Default value -1 will execute indefinitely. Value 0 will execute once.</li>
<li><code>time_zone</code> - Time zone, by default UTC.</li>
<li><code>type</code> - Schedule type discriminator.</li>
</ul></li>
<li><code>state</code> - The current state of the scheduled task.</li>
<li><code>task_status</code> - Status of the scheduled task. - PURGE_RESOURCE_NOT_FOUND</li>
<li><code>task_type</code> - Task type.</li>
<li><code>time_created</code> - The date and time the scheduled task was created, in the format defined by RFC3339.</li>
<li><code>time_updated</code> - The date and time the scheduled task was last updated, in the format defined by RFC3339.</li>
<li><code>work_request_id</code> - most recent Work Request Identifier <a href="https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm">OCID</a> for the asynchronous request.</li>
</ul>

<h2>Timeouts</h2>

<p>The <code>timeouts</code> block allows you to specify <a href="https://registry.terraform.io/providers/oracle/oci/latest/docs/guides/changing_timeouts">timeouts</a> for certain operations:
	* <code>create</code> - (Defaults to 20 minutes), when creating the Namespace Scheduled Task
	* <code>update</code> - (Defaults to 20 minutes), when updating the Namespace Scheduled Task
	* <code>delete</code> - (Defaults to 20 minutes), when destroying the Namespace Scheduled Task</p>

<h2>Import</h2>

<p>NamespaceScheduledTasks can be imported using the <code>id</code>, e.g.</p>

<pre><code>$ terraform import oci_log_analytics_namespace_scheduled_task.test_namespace_scheduled_task &quot;namespaces/{namespaceName}/scheduledTasks/{scheduledTaskId}&quot; 
</code></pre>

	</div>

</body>
</html>
