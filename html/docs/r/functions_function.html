<!DOCTYPE html>
<html>
<head>
  <title>Oracle Cloud Infrastructure - Resource: oci_functions_function</title>
  <meta name="GENERATOR" content="Generated from terraform-provider-oci markdown documentation">
  <meta charset="utf-8">
  <link rel="stylesheet" type="text/css" href="../../css/style.css">
</head>
<body>

	<div class="nav_wrap">
		<iframe id ="nav_list" src="../../toc.html"></iframe>
	</div>

	<div class="main" tabindex="-1">
<h1>oci_functions_function</h1>

<p>This resource provides the Function resource in Oracle Cloud Infrastructure Functions service.
Api doc link for the resource: <a href="https://docs.oracle.com/iaas/api/#/en/functions/latest/Function">https://docs.oracle.com/iaas/api/#/en/functions/latest/Function</a></p>

<p>Example terraform configs related to the resource : <a href="https://github.com/oracle/terraform-provider-oci/tree/master/examples/functions">https://github.com/oracle/terraform-provider-oci/tree/master/examples/functions</a></p>

<p>Creates a new function.</p>

<h2>Example Usage</h2>

<pre><code class="language-hcl">resource &quot;oci_functions_function&quot; &quot;test_function&quot; {
	#Required
	application_id = oci_functions_application.test_application.id
	display_name = var.function_display_name
	memory_in_mbs = var.function_memory_in_mbs

	#Optional
	config = var.function_config
	defined_tags = {&quot;Operations.CostCenter&quot;= &quot;42&quot;}
	detached_mode_timeout_in_seconds = var.function_detached_mode_timeout_in_seconds
	failure_destination {
		#Required
		kind = var.function_failure_destination_kind

		#Optional
		channel_id = oci_mysql_channel.test_channel.id
		queue_id = oci_queue_queue.test_queue.id
		stream_id = oci_streaming_stream.test_stream.id
		topic_id = oci_ons_notification_topic.test_notification_topic.id
	}
	freeform_tags = {&quot;Department&quot;= &quot;Finance&quot;}
	image = var.function_image
	image_digest = var.function_image_digest
	provisioned_concurrency_config {
		#Required
		strategy = var.function_provisioned_concurrency_config_strategy

		#Optional
		count = var.function_provisioned_concurrency_config_count
	}
	source_details {
		#Required
		pbf_listing_id = oci_functions_pbf_listing.test_pbf_listing.id
		source_type = var.function_source_details_source_type
	}
	success_destination {
		#Required
		kind = var.function_success_destination_kind

		#Optional
		channel_id = oci_mysql_channel.test_channel.id
		queue_id = oci_queue_queue.test_queue.id
		stream_id = oci_streaming_stream.test_stream.id
		topic_id = oci_ons_notification_topic.test_notification_topic.id
	}
	timeout_in_seconds = var.function_timeout_in_seconds
	trace_config {

		#Optional
		is_enabled = var.function_trace_config_is_enabled
	}
}
</code></pre>

<h2>Argument Reference</h2>

<p>The following arguments are supported:</p>

<ul>
<li><p><code>application_id</code> - (Required) The OCID of the application this function belongs to.</p></li>

<li><p><code>config</code> - (Optional) (Updatable) Function configuration. These values are passed on to the function as environment variables, this overrides application configuration values. Keys must be ASCII strings consisting solely of letters, digits, and the &lsquo;_&rsquo; (underscore) character, and must not begin with a digit. Values should be limited to printable unicode characters.  Example: <code>{&quot;MY_FUNCTION_CONFIG&quot;: &quot;ConfVal&quot;}</code></p>

<p>The maximum size for all configuration keys and values is limited to 4KB. This is measured as the sum of octets necessary to represent each key and value in UTF-8.</p></li>

<li><p><code>defined_tags</code> - (Optional) (Updatable) Defined tags for this resource. Each key is predefined and scoped to a namespace. For more information, see <a href="https://docs.cloud.oracle.com/iaas/Content/General/Concepts/resourcetags.htm">Resource Tags</a>.  Example: <code>{&quot;Operations.CostCenter&quot;: &quot;42&quot;}</code></p></li>

<li><p><code>detached_mode_timeout_in_seconds</code> - (Optional) (Updatable) Timeout for detached function invocations. Value in seconds.</p></li>

<li><p><code>display_name</code> - (Required) The display name of the function. The display name must be unique within the application containing the function. Avoid entering confidential information.</p></li>

<li><p><code>failure_destination</code> - (Optional) (Updatable) An object that represents the destination to which Oracle Functions will send an invocation record with the details of the error of the failed detached function invocation. A notification is an example of a failure destination.  Example: <code>{&quot;kind&quot;: &quot;NOTIFICATION&quot;, &quot;topicId&quot;: &quot;topic_OCID&quot;}</code></p>

<ul>
<li><code>channel_id</code> - (Applicable when kind=QUEUE) (Updatable) The ID of the channel in the queue.</li>
<li><code>kind</code> - (Required) (Updatable) The type of destination for the response to a failed detached function invocation.</li>
<li><code>queue_id</code> - (Required when kind=QUEUE) (Updatable) The <a href="https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm">OCID</a> of the queue.</li>
<li><code>stream_id</code> - (Required when kind=STREAM) (Updatable) The <a href="https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm">OCID</a> of the stream.</li>
<li><code>topic_id</code> - (Required when kind=NOTIFICATION) (Updatable) The <a href="https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm">OCID</a> of the topic.</li>
</ul></li>

<li><p><code>freeform_tags</code> - (Optional) (Updatable) Free-form tags for this resource. Each tag is a simple key-value pair with no predefined name, type, or namespace. For more information, see <a href="https://docs.cloud.oracle.com/iaas/Content/General/Concepts/resourcetags.htm">Resource Tags</a>.  Example: <code>{&quot;Department&quot;: &quot;Finance&quot;}</code></p></li>

<li><p><code>image</code> - (Optional) (Updatable) The qualified name of the Docker image to use in the function, including the image tag. The image should be in the Oracle Cloud Infrastructure Registry that is in the same region as the function itself. This field must be updated if image_digest is updated. Example: <code>phx.ocir.io/ten/functions/function:0.0.1</code></p></li>

<li><p><code>image_digest</code> - (Optional) (Updatable) The image digest for the version of the image that will be pulled when invoking this function. If no value is specified, the digest currently associated with the image in the Oracle Cloud Infrastructure Registry will be used. This field must be updated if image is updated. Example: <code>sha256:ca0eeb6fb05351dfc8759c20733c91def84cb8007aa89a5bf606bc8b315b9fc7</code></p></li>

<li><p><code>memory_in_mbs</code> - (Required) (Updatable) Maximum usable memory for the function (MiB).</p></li>

<li><p><code>provisioned_concurrency_config</code> - (Optional) (Updatable) Define the strategy for provisioned concurrency for the function.</p>

<ul>
<li><code>count</code> - (Required when strategy=CONSTANT) (Updatable) Configuration specifying a constant amount of provisioned concurrency.</li>
<li><code>strategy</code> - (Required) (Updatable) The strategy for provisioned concurrency to be used.</li>
</ul></li>

<li><p><code>source_details</code> - (Optional) The source details for the Function. The function can be created from various sources.</p>

<ul>
<li><code>pbf_listing_id</code> - (Required) The <a href="https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm">OCID</a> of the PbfListing this function is sourced from.</li>
<li><code>source_type</code> - (Required) Type of the Function Source. Possible values: PBF.</li>
</ul></li>

<li><p><code>success_destination</code> - (Optional) (Updatable) An object that represents the destination to which Oracle Functions will send an invocation record with the details of the successful detached function invocation. A stream is an example of a success destination.  Example: <code>{&quot;kind&quot;: &quot;STREAM&quot;, &quot;streamId&quot;: &quot;stream_OCID&quot;}</code></p>

<ul>
<li><code>channel_id</code> - (Applicable when kind=QUEUE) (Updatable) The ID of the channel in the queue.</li>
<li><code>kind</code> - (Required) (Updatable) The type of destination for the response to a successful detached function invocation.</li>
<li><code>queue_id</code> - (Required when kind=QUEUE) (Updatable) The <a href="https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm">OCID</a> of the queue.</li>
<li><code>stream_id</code> - (Required when kind=STREAM) (Updatable) The <a href="https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm">OCID</a> of the stream.</li>
<li><code>topic_id</code> - (Required when kind=NOTIFICATION) (Updatable) The <a href="https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm">OCID</a> of the topic.</li>
</ul></li>

<li><p><code>timeout_in_seconds</code> - (Optional) (Updatable) Timeout for executions of the function. Value in seconds.</p></li>

<li><p><code>trace_config</code> - (Optional) (Updatable) Define the tracing configuration for a function.</p>

<ul>
<li><code>is_enabled</code> - (Optional) (Updatable) Define if tracing is enabled for the resource.</li>
</ul></li>
</ul>

<p>** IMPORTANT **
Any change to a property that does not support update will force the destruction and recreation of the resource with the new property values</p>

<h2>Attributes Reference</h2>

<p>The following attributes are exported:</p>

<ul>
<li><p><code>application_id</code> - The OCID of the application the function belongs to.</p></li>

<li><p><code>compartment_id</code> - The OCID of the compartment that contains the function.</p></li>

<li><p><code>config</code> - Function configuration. Overrides application configuration. Keys must be ASCII strings consisting solely of letters, digits, and the &lsquo;_&rsquo; (underscore) character, and must not begin with a digit. Values should be limited to printable unicode characters.  Example: <code>{&quot;MY_FUNCTION_CONFIG&quot;: &quot;ConfVal&quot;}</code></p>

<p>The maximum size for all configuration keys and values is limited to 4KB. This is measured as the sum of octets necessary to represent each key and value in UTF-8.</p></li>

<li><p><code>defined_tags</code> - Defined tags for this resource. Each key is predefined and scoped to a namespace. For more information, see <a href="https://docs.cloud.oracle.com/iaas/Content/General/Concepts/resourcetags.htm">Resource Tags</a>.  Example: <code>{&quot;Operations.CostCenter&quot;: &quot;42&quot;}</code></p></li>

<li><p><code>detached_mode_timeout_in_seconds</code> - Timeout for detached function invocations. Value in seconds.  Example: <code>{&quot;detachedModeTimeoutInSeconds&quot;: 900}</code></p></li>

<li><p><code>display_name</code> - The display name of the function. The display name is unique within the application containing the function.</p></li>

<li><p><code>failure_destination</code> - An object that represents the destination to which Oracle Functions will send an invocation record with the details of the error of the failed detached function invocation. A notification is an example of a failure destination.  Example: <code>{&quot;kind&quot;: &quot;NOTIFICATION&quot;, &quot;topicId&quot;: &quot;topic_OCID&quot;}</code></p>

<ul>
<li><code>channel_id</code> - The ID of the channel in the queue.</li>
<li><code>kind</code> - The type of destination for the response to a failed detached function invocation.</li>
<li><code>queue_id</code> - The <a href="https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm">OCID</a> of the queue.</li>
<li><code>stream_id</code> - The <a href="https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm">OCID</a> of the stream.</li>
<li><code>topic_id</code> - The <a href="https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm">OCID</a> of the topic.</li>
</ul></li>

<li><p><code>freeform_tags</code> - Free-form tags for this resource. Each tag is a simple key-value pair with no predefined name, type, or namespace. For more information, see <a href="https://docs.cloud.oracle.com/iaas/Content/General/Concepts/resourcetags.htm">Resource Tags</a>.  Example: <code>{&quot;Department&quot;: &quot;Finance&quot;}</code></p></li>

<li><p><code>id</code> - The <a href="https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm">OCID</a> of the function.</p></li>

<li><p><code>image</code> - The qualified name of the Docker image to use in the function, including the image tag. The image should be in the Oracle Cloud Infrastructure Registry that is in the same region as the function itself. This field must be updated if image_digest is updated. Example: <code>phx.ocir.io/ten/functions/function:0.0.1</code></p></li>

<li><p><code>image_digest</code> - The image digest for the version of the image that will be pulled when invoking this function. If no value is specified, the digest currently associated with the image in the Oracle Cloud Infrastructure Registry will be used. This field must be updated if image is updated. Example: <code>sha256:ca0eeb6fb05351dfc8759c20733c91def84cb8007aa89a5bf606bc8b315b9fc7</code></p></li>

<li><p><code>invoke_endpoint</code> - The base https invoke URL to set on a client in order to invoke a function. This URL will never change over the lifetime of the function and can be cached.</p></li>

<li><p><code>memory_in_mbs</code> - Maximum usable memory for the function (MiB).</p></li>

<li><p><code>provisioned_concurrency_config</code> - Define the strategy for provisioned concurrency for the function.</p>

<ul>
<li><code>count</code> - Configuration specifying a constant amount of provisioned concurrency.</li>
<li><code>strategy</code> - The strategy for provisioned concurrency to be used.</li>
</ul></li>

<li><p><code>shape</code> - The processor shape (<code>GENERIC_X86</code>/<code>GENERIC_ARM</code>) on which to run functions in the application, extracted from the image manifest.</p></li>

<li><p><code>source_details</code> - The source details for the Function. The function can be created from various sources.</p>

<ul>
<li><code>pbf_listing_id</code> - The <a href="https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm">OCID</a> of the PbfListing this function is sourced from.</li>
<li><code>source_type</code> - Type of the Function Source. Possible values: PRE_BUILT_FUNCTIONS.</li>
</ul></li>

<li><p><code>state</code> - The current state of the function.</p></li>

<li><p><code>success_destination</code> - An object that represents the destination to which Oracle Functions will send an invocation record with the details of the successful detached function invocation. A stream is an example of a success destination.  Example: <code>{&quot;kind&quot;: &quot;STREAM&quot;, &quot;streamId&quot;: &quot;stream_OCID&quot;}</code></p>

<ul>
<li><code>channel_id</code> - The ID of the channel in the queue.</li>
<li><code>kind</code> - The type of destination for the response to a successful detached function invocation.</li>
<li><code>queue_id</code> - The <a href="https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm">OCID</a> of the queue.</li>
<li><code>stream_id</code> - The <a href="https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm">OCID</a> of the stream.</li>
<li><code>topic_id</code> - The <a href="https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm">OCID</a> of the topic.</li>
</ul></li>

<li><p><code>time_created</code> - The time the function was created, expressed in <a href="https://tools.ietf.org/html/rfc3339">RFC 3339</a> timestamp format.  Example: <code>2018-09-12T22:47:12.613Z</code></p></li>

<li><p><code>time_updated</code> - The time the function was updated, expressed in <a href="https://tools.ietf.org/html/rfc3339">RFC 3339</a> timestamp format.  Example: <code>2018-09-12T22:47:12.613Z</code></p></li>

<li><p><code>timeout_in_seconds</code> - Timeout for executions of the function. Value in seconds.</p></li>

<li><p><code>trace_config</code> - Define the tracing configuration for a function.</p>

<ul>
<li><code>is_enabled</code> - Define if tracing is enabled for the resource.</li>
</ul></li>
</ul>

<h2>Timeouts</h2>

<p>The <code>timeouts</code> block allows you to specify <a href="https://registry.terraform.io/providers/oracle/oci/latest/docs/guides/changing_timeouts">timeouts</a> for certain operations:
	* <code>create</code> - (Defaults to 20 minutes), when creating the Function
	* <code>update</code> - (Defaults to 20 minutes), when updating the Function
	* <code>delete</code> - (Defaults to 20 minutes), when destroying the Function</p>

<h2>Import</h2>

<p>Functions can be imported using the <code>id</code>, e.g.</p>

<pre><code>$ terraform import oci_functions_function.test_function &quot;id&quot;
</code></pre>

	</div>

</body>
</html>
